"""Main IDJC python package initialiser.

Generated from file __init__.py.in.in -- edit the original.
"""

#   Copyright (C) 2011 Stephen Fairchild (s-fairchild@users.sourceforge.net)
#   This program is free software: you can redistribute it and/or modify
#   it under the terms of the GNU General Public License as published by
#   the Free Software Foundation, either version 2 of the License, or
#   (at your option) any later version.
#
#   This program is distributed in the hope that it will be useful,
#   but WITHOUT ANY WARRANTY; without even the implied warranty of
#   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
#   GNU General Public License for more details.
#
#   You should have received a copy of the GNU General Public License
#   along with this program in the file entitled COPYING.
#   If not, see <http://www.gnu.org/licenses/>.



import os

import pygtk
pygtk.require("2.0")
import glib

from .utils import FixedAttributes
from .utils import PolicedAttributes
from .utils import PathStr



class FGlobs(object):
   """Namespace class of variables which cannot be altered.
   

   These are set by the build process.
   """

   __metaclass__ = FixedAttributes

    
   libexecdir = PathStr("""@libexecdir@""")
   pkgdatadir = PathStr("""${pkgdatadir}""")
   avformat = @HAVE_AVFORMAT@
   avcodec = @HAVE_AVCODEC@
   flacenabled = @HAVE_FLAC@
   oggflacenabled = @HAVE_OGGFLAC@
   speexenabled = @HAVE_SPEEX@
   package_name = """@PACKAGE_NAME@"""
   package_version = """@PACKAGE_VERSION@"""
   enh_libshout = @ENH_SHOUT@



class PGlobs(object):
   """Values which cannot be changed once they have been read."""
      
   
   __metaclass__ = PolicedAttributes

   
   config_dir = PathStr(glib.get_user_config_dir()) / FGlobs.package_name
   #config_dir = PathStr(os.path.expanduser("~")) / ("." + FGlobs.package_name)
   profile_dir = config_dir / "profiles"
   dbus_bus_basename = "net.sf." + FGlobs.package_name
   dbus_objects_basename = "/net/sf/" + FGlobs.package_name
   app_shortform = "IDJC"
   app_longform = "Internet DJ Console"
   default_icon = FGlobs.pkgdatadir / "icon.png"
   profile_dialog_refusal_pathname = config_dir / "profile_dialog_refusal"
   copyright = "Copyright 2005-2011 Stephen Fairchild and others."
   license = "Released under the GNU General Public License V2.0 or later."
   num_micpairs = 2
   num_streamers = 6
   num_encoders = 6
   num_recorders = 2
   


def main():
   from .prelims import ProfileManager
   ProfileManager()

   import maingui
   return maingui.main()
