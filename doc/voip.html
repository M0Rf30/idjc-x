<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="stylesheet" href="style.css" type="text/css" />
<style type="text/css">br {clear: left } </style>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="Generator" content="Kate, the KDE Advanced Text Editor" />
<title>Internet DJ Console: VoIP Tutorial</title>
<link rel="icon" href="favicon.png.jpg" />
<link rel="shortcut icon" href="favicon.png.jpg" />
</head>
<body>
<img align="right" hspace="20" src="icon.jpg" />
<h1>Internet DJ Console: Integrating VoIP Applications</h1><br />
<p>
You may have noticed two small telephone icons in the bottom part of the main IDJC window.  Actually I would be surprised if you haven't.
</p>
<p>
Anyway, the <strong>Green Telephone</strong> allows you to stream audio from a VoIP service like Skype and converse with people during your show.  When in <strong>Green Phone</strong> mode your mic is open all the time and those people you are speaking with will be audible on the stream or on the recording you are making.  They will not be able to hear your media players or jingles.
</p>
<p>
When speaking live (mic button pressed in), the red <strong>Telephone Button</strong> allows for the people who are on the VoIP service with you to hear your show via the VoIP service at the volume level determined by the volume control with the telephone icon which has just appeared, but not themselves take part.  It is probably a good idea not to give them the full volume since they may want to speak among themselves, but on the other hand if the level is too low they won't be able to hear you announcing the next song.
</p>
<p>When you are not speaking live, with the <strong>Mic Button</strong> pressed in you are in a private conference with the people on the phone with you.  You would typically use this mode when playing a song since the listeners can no longer hear you.  What you can hear of the streamed audio is dictated by the <strong>Volume Contol</strong> that has the <strong>Telephone Icon</strong> above it.  When you play jingles in this mode the jingles audio goes to the VoIP listeners and not to the stream.  You can confirm this by using the <strong>Monitor Mix</strong> feature, which should normally be set to <strong>DJ</strong> when using the <strong>Red Phone</strong> mode.
</p>
<p>
To use VoIP in IDJC you need <em>alsa-plugins</em> installed on your system. It is vital that it is compiled with JACK support, which yours might not be. You also need the following text in your ~/.asoundrc file. If this file does not exist then create it.</p>

<div id="nifty">
<b class="rtop">
 <b class="r1"></b> <b class="r2"></b> <b class="r3"></b> <b class="r4"></b>
</b>
<code><pre><ul>pcm.idjcvoip {
   type plug
   slave.pcm {
      type jack
      playback_ports {
         0 idjc-mx:voip_in_l
         1 idjc-mx:voip_in_r
      }
      capture_ports {
         0 idjc-mx:voip_out_l
         1 idjc-mx:voip_out_r
      }
   }
}
</ul></pre></code>
<b class="rbottom">
   <b class="r4"></b> <b class="r3"></b> <b class="r2"></b> <b class="r1"></b>
</b>
</div>

<p>To make the changes effective you need to log out and log back in again or restart ALSA, then you need to launch IDJC and the VoIP program and set the ALSA device to <strong>idjcvoip</strong> within the preferences of the VoIP program.</p>
<p>In Skype version 1.4.0.94 you need to log in, click the cogwheel icon, and choose 'Options', followed by 'Sound Devices'. After choosing 'idjcvoip' from all three drop-down lists you are ready to click the 'Make a test sound' button, you should be able to hear audio if IDJC is in VoIP mode with the green phone mode enabled. Provided you heard the test sound you are now ready to make a test call, to Skype user echo123 which is the Skype testing service.</p>
<p>
If your version of Skype does not offer the opportunity to set an ALSA device it is too old and needs updating.</p>
<p>These configuration changes need only doing once after which you will be able to start IDJC, then Skype and it will just work. One word of caution for regular Skype users: with the new configuration the Skype account preferences you configured will prevent Skype from loading without IDJC since it will now require that jack be running in order to work (worse still you'll have to manually change the ALSA output device to default before you can use it). You can get around this in a number of ways. For instance you can have a specific Skype account for your radio work or have a specific user account for when you are using IDJC.</p>

<div id="nifty">
<b class="rtop">
 <b class="r1"></b> <b class="r2"></b> <b class="r3"></b> <b class="r4"></b>
 </b>
<ul>
<p><h3>Confirmed working with the following software:</h3></p>
<ul type="disc">
<li>Skype 1.4.0.94</li>
<li>jack-audio-connection-kit 0.103.0</li>
<li>ALSA 1.0.14</li>
</ul>
<br/>
</ul>
<b class="rbottom">
   <b class="r4"></b> <b class="r3"></b> <b class="r2"></b> <b class="r1"></b>
</b>
</div>

<hr />
<pre><center>Back to <a href="index.html">Main Window</a></center></pre>
</body></html>
